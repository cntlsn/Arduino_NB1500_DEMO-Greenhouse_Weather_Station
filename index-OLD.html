
<!DOCTYPE html>
<html>
    <head>
        <title>ThingSpeak Live Colours</title>
        <style type="text/css">
            html, body, #content_area {
                height: 100%;
                margin: 0;
                padding: 0;
            }
            .color{
                 height: 12%;
            }
            #credits{
                 height: 4%;
                 text-align: center;
            }
        </style>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
        <script type="text/javascript">

    $(document).ready(function() {

        getUpdates();

        // check for new updates
        setInterval('getUpdates()', 5000);

    });

    function getUpdates() {

      // get the data with a webservice call
      $.getJSON('https://api.thingspeak.com/channels/477356/feed/last.json?callback=?', function(data) {

        console.log(data.field1);

          // if the field1 has data update the page
          if (data.field1) {

              $("#color1").css("background", data.field1);
              $("#color2").css("background", data.field2);
              $("#color3").css("background", data.field3);
              $("#color4").css("background", data.field4);
              $("#color5").css("background", data.field5);
              $("#color6").css("background", data.field6);
              $("#color7").css("background", data.field7);
              $("#color8").css("background", data.field8);
              $("#credits").css("background", data.field8);

          }

      });

    }

  </script>
    </head>
    <body style='background-color: white;'>
        <div id="content_area">

            <div id="color1" class="color">&nbsp;</div>
            <div id="color2" class="color">&nbsp;</div>
            <div id="color3" class="color">&nbsp;</div>
            <div id="color4" class="color">&nbsp;</div>
            <div id="color5" class="color">&nbsp;</div>
            <div id="color6" class="color">&nbsp;</div>
            <div id="color7" class="color">&nbsp;</div>
            <div id="color8" class="color">&nbsp;</div>
            <div id="credits">Rob Myers Live Colours</div>

        </div>
    </body>
</html>


